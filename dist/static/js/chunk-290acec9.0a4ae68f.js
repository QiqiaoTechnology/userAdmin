(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-290acec9"],{"1b40":function(t,e,n){},"37cb":function(t,e,n){"use strict";n.d(e,"t",(function(){return r})),n.d(e,"B",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"n",(function(){return c})),n.d(e,"A",(function(){return l})),n.d(e,"h",(function(){return u})),n.d(e,"a",(function(){return s})),n.d(e,"k",(function(){return d})),n.d(e,"C",(function(){return m})),n.d(e,"g",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"s",(function(){return b})),n.d(e,"D",(function(){return p})),n.d(e,"L",(function(){return g})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return q})),n.d(e,"J",(function(){return v})),n.d(e,"o",(function(){return w})),n.d(e,"E",(function(){return j})),n.d(e,"v",(function(){return _})),n.d(e,"d",(function(){return C})),n.d(e,"e",(function(){return O})),n.d(e,"x",(function(){return L})),n.d(e,"I",(function(){return I})),n.d(e,"l",(function(){return k})),n.d(e,"f",(function(){return F})),n.d(e,"w",(function(){return x})),n.d(e,"u",(function(){return T})),n.d(e,"H",(function(){return $})),n.d(e,"K",(function(){return A})),n.d(e,"q",(function(){return B})),n.d(e,"y",(function(){return S})),n.d(e,"m",(function(){return D})),n.d(e,"G",(function(){return M})),n.d(e,"p",(function(){return E})),n.d(e,"z",(function(){return N})),n.d(e,"F",(function(){return z})),n.d(e,"r",(function(){return W}));var i=n("b775");function r(t){return Object(i["b"])({url:"qiqiao/article/findMyArticle",method:"get",params:t})}function a(t){return Object(i["b"])({url:"qiqiao/articleLabel/myArticleLabel",method:"get",params:t})}function o(t){return Object(i["b"])({url:"qiqiao/articleLabel",method:"post",data:t})}function c(t){return Object(i["b"])({url:"qiqiao/articleLabel",method:"put",data:t})}function l(t){return Object(i["b"])({url:"qiqiao/articleLabel/"+t,method:"get"})}function u(t){return Object(i["b"])({url:"qiqiao/articleLabel",method:"delete",data:t})}function s(t){return Object(i["b"])({url:"qiqiao/article",method:"post",data:t})}function d(t){return Object(i["b"])({url:"qiqiao/article",method:"put",data:t})}function m(){return Object(i["b"])({url:"qiqiao/articleLabel/myArticleLabelList",method:"get"})}function f(t){return Object(i["b"])({url:"qiqiao/article/deleteByArticleIdList",method:"delete",data:t})}function h(t){return Object(i["b"])({url:"qiqiao/article/"+t,method:"delete"})}function b(t){return Object(i["b"])({url:"qiqiao/article/"+t,method:"get"})}function p(t){return Object(i["b"])({url:"qiqiao/attachmentMaterial/findByPage",method:"get",params:t})}function g(t){return Object(i["b"])({url:"distributedFileSystem/attachmentInfo/upload",method:"post",data:t})}function y(t){return Object(i["b"])({url:"qiqiao/attachmentMaterial/"+t,method:"delete"})}function q(t){return Object(i["b"])({url:"qiqiao/attachmentMaterial/deleteByMaterialIdList",method:"delete",data:t})}function v(t){return Object(i["b"])({url:"qiqiao/attachmentMaterial",method:"post",data:t})}function w(t){return Object(i["b"])({url:"qiqiao/attachmentMaterial",method:"put",data:t})}function j(t){return Object(i["b"])({url:"qiqiao/attachmentMaterial/list",method:"get",params:t})}function _(t){return Object(i["b"])({url:"qiqiao/banner/myBanner",method:"get",params:t})}function C(t){return Object(i["b"])({url:"qiqiao/banner",method:"delete",data:t})}function O(t){return Object(i["b"])({url:"qiqiao/bannerDetail/"+t,method:"delete"})}function L(t){return Object(i["b"])({url:"qiqiao/friendshipLink/findByPage",method:"get",params:t})}function I(t){return Object(i["b"])({url:"qiqiao/friendshipLink",method:"post",data:t})}function k(t){return Object(i["b"])({url:"qiqiao/friendshipLink",method:"put",data:t})}function F(t){return Object(i["b"])({url:"qiqiao/friendshipLink",method:"delete",data:t})}function x(t){return Object(i["b"])({url:"qiqiao/friendshipLink/"+t,method:"get"})}function T(t){return Object(i["b"])({url:"qiqiao/banner/findBannerWithDetailByBannerId/"+t,method:"get"})}function $(t){return Object(i["b"])({url:"qiqiao/banner",method:"post",data:t})}function A(t){return Object(i["b"])({url:"qiqiao/bannerDetail",method:"post",data:t})}function B(t){return Object(i["b"])({url:"qiqiao/bannerDetail",method:"put",data:t})}function S(){return Object(i["b"])({url:"qiqiao/basicInfo/enterpriseBasicInfo",method:"get"})}function D(t){return Object(i["b"])({url:"qiqiao/basicInfo/enterpriseBasicInfo",method:"put",data:t})}function M(){return Object(i["b"])({url:"qiqiao/websiteTemplate/list",method:"get"})}function E(t){return Object(i["b"])({url:"qiqiao/websiteTemplate/currentWebsiteTemplate/"+t,method:"put"})}function N(){return Object(i["b"])({url:"qiqiao/attachmentMaterial/attachmentMaterialAmount",method:"get"})}function z(){return Object(i["b"])({url:"qiqiao/websiteTemplate/templateAmount",method:"get"})}function W(){return Object(i["b"])({url:"qiqiao/article/articleAmount",method:"get"})}},5103:function(t,e,n){"use strict";var i=n("1b40"),r=n.n(i);r.a},8256:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tinymce-container",class:{fullscreen:t.fullscreen},style:{width:t.containerWidth}},[n("textarea",{staticClass:"tinymce-textarea",attrs:{id:t.tinymceId}})])},r=[],a=(n("ac6a"),n("c5f6"),["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"]),o=a,c=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],l=c,u=n("b85c"),s=[];function d(){return window.tinymce}var m=function(t,e){var n=document.getElementById(t),i=e||function(){};if(!n){var r=document.createElement("script");r.src=t,r.id=t,document.body.appendChild(r),s.push(i);var a="onload"in r?o:c;a(r)}function o(e){e.onload=function(){this.onerror=this.onload=null;var t,n=Object(u["a"])(s);try{for(n.s();!(t=n.n()).done;){var i=t.value;i(null,e)}}catch(r){n.e(r)}finally{n.f()}s=null},e.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+t),e)}}function c(t){t.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState){this.onreadystatechange=null;var e,n=Object(u["a"])(s);try{for(n.s();!(e=n.n()).done;){var i=e.value;i(null,t)}}catch(r){n.e(r)}finally{n.f()}s=null}}}n&&i&&(d()?i(null,n):s.push(i))},f=m,h="https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js",b={name:"Tinymce",props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}}},computed:{language:function(){return this.languageTypeList[this.$store.getters.language]},containerWidth:function(){var t=this.width;return/^[\d]+(\.[\d]+)?$/.test(t)?"".concat(t,"px"):t}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(e.tinymceId).setContent(t||"")}))},language:function(){var t=this;this.destroyTinymce(),this.$nextTick((function(){return t.initTinymce()}))}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var t=this;f(h,(function(e){e?t.$message.error(e.message):t.initTinymce()}))},initTinymce:function(){var t=this,e=this;window.tinymce.init({language:this.language,selector:"#".concat(this.tinymceId),height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:l,menubar:this.menubar,plugins:o,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(n){e.value&&n.setContent(e.value),e.hasInit=!0,n.on("NodeChange Change KeyUp SetContent",(function(){t.hasChange=!0,t.$emit("input",n.getContent())}))},setup:function(t){t.on("FullscreenStateChanged",(function(t){e.fullscreen=t.state}))}})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach((function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'.concat(t.url,'" >'))}))}}},p=b,g=(n("5103"),n("2877")),y=Object(g["a"])(p,i,r,!1,null,"08bc8e74",null);e["a"]=y.exports},a760:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container userview"},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("div",[t._v("\n        "+t._s(t.viewtitle)+"\n      ")]),t._v(" "),n("el-button",{staticClass:"cardBtn",attrs:{type:"primary",disabled:t.btnload},on:{click:function(e){return t.handleSubmit("editForm")}}},[t._v("立即提交")])],1),t._v(" "),n("div",{staticClass:"user-message"},[n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"editForm",attrs:{model:t.editForm,rules:t.rules,"label-width":"100px"}},[n("div",{staticClass:"userInfo_main dpyflex"},[n("div",{staticClass:"formContent"},[n("el-form-item",{staticClass:"lg_select",attrs:{label:"文章标签:",prop:"articleLabelIdList"}},[n("el-select",{attrs:{filterable:"",multiple:"",placeholder:"请选择文章标签"},model:{value:t.editForm.articleLabelIdList,callback:function(e){t.$set(t.editForm,"articleLabelIdList",e)},expression:"editForm.articleLabelIdList"}},t._l(t.labelData,(function(t){return n("el-option",{key:t.articleLabelId,attrs:{label:t.articleLabelName,value:t.articleLabelId}})})),1)],1),t._v(" "),n("el-form-item",{staticClass:"lg_input",attrs:{label:"文章标题:",prop:"articleTitle"}},[n("el-input",{attrs:{clearable:"",placeholder:"请输入文章标题",autocomplete:"off"},model:{value:t.editForm.articleTitle,callback:function(e){t.$set(t.editForm,"articleTitle","string"===typeof e?e.trim():e)},expression:"editForm.articleTitle"}})],1),t._v(" "),n("el-form-item",{staticClass:"lg_input",attrs:{label:"文章摘要:",prop:"articleDescription"}},[n("el-input",{attrs:{clearable:"",placeholder:"请输入文章摘要",autocomplete:"off"},model:{value:t.editForm.articleDescription,callback:function(e){t.$set(t.editForm,"articleDescription","string"===typeof e?e.trim():e)},expression:"editForm.articleDescription"}})],1),t._v(" "),n("el-form-item",{staticClass:"lg_input",staticStyle:{"margin-bottom":"0px"},attrs:{label:"文章作者:",prop:"articleAuthor"}},[n("el-input",{attrs:{clearable:"",placeholder:"请输入文章作者",autocomplete:"off"},model:{value:t.editForm.articleAuthor,callback:function(e){t.$set(t.editForm,"articleAuthor","string"===typeof e?e.trim():e)},expression:"editForm.articleAuthor"}})],1)],1)]),t._v(" "),n("el-divider",{attrs:{"content-position":"left"}},[t._v("文章主体")]),t._v(" "),n("div",{staticClass:"userInfo_main"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{staticClass:"el_col",attrs:{span:24}},[n("el-form-item",{staticClass:"lg_tinymce",staticStyle:{"margin-left":"-100px"},attrs:{prop:"articleContent"}},[n("tinymce",{ref:"tinymceContent",attrs:{height:t.heightval},model:{value:t.editForm.articleContent,callback:function(e){t.$set(t.editForm,"articleContent",e)},expression:"editForm.articleContent"}})],1)],1)],1)],1)],1)],1)])],1)},r=[],a=n("8256"),o=n("37cb"),c=n("b775"),l={components:{Tinymce:a["a"]},data:function(){return{imgVal:"",imgUrl:"",dialogImgVisible:!1,total:0,baseurl:c["a"],dialogVisible:!1,viewtitle:"新增文章",btnload:!1,heightval:window.innerHeight/2,listLoading:!1,editFlag:!1,viewId:"",labelData:[],editForm:{articleType:2,articleTitle:null,articleAuthor:null,articleDescription:null,articleContent:null,articleLabelIdList:null},rules:{articleTitle:{required:!0,message:"请输入文章标题",trigger:"blur"},articleAuthor:{required:!0,message:"请输入文章作者",trigger:"blur"},articleDescription:{required:!0,message:"请输入文章摘要",trigger:"blur"},articleContent:{required:!0,message:"请输入文章内容",trigger:"blur"}}}},created:function(){var t=this.$route.query;this.getCategoriesList(),!0===t.editFlag||"true"===t.editFlag?(this.viewId=t.articleId,this.editFlag=!0,this.viewtitle="修改文章",this.getArticleInfo(t.articleId)):this.editFlag=!1},methods:{getCategoriesList:function(){var t=this;Object(o["C"])().then((function(e){t.labelData=e.data}))},getArticleInfo:function(t){var e=this;Object(o["s"])(t).then((function(t){e.editForm=t.data}))},handleSubmit:function(t){var e=this,n=this;this.$refs[t].validate((function(i){if(!i)return!1;""===n.editForm.articleAuthor&&(n.editForm.articleAuthor=null),n.btnload=!0,n.listLoading=!0,n.editFlag?Object(o["k"])(n.editForm).then((function(t){n.getArticleInfo(e.viewId),n.$message.success("文章修改成功"),n.$confirm("文章修改成功, 是否继续操作?","提示",{confirmButtonText:"确定",cancelButtonText:"返回文章列表页",type:"warning"}).then((function(){n.listLoading=!1,n.btnload=!1})).catch((function(){n.$router.push({path:"/thematic"})}))})):Object(o["a"])(n.editForm).then((function(e){n.$message.success("文章添加成功"),n.$confirm("文章添加成功, 是否继续添加?","提示",{confirmButtonText:"确定",cancelButtonText:"返回文章列表页",type:"warning"}).then((function(){n.listLoading=!1,n.btnload=!1,n.$refs.tinymceContent.setContent(""),n.$refs[t].resetFields()})).catch((function(){n.$router.push({path:"/thematic"})}))}))}))}}},u=l,s=n("2877"),d=Object(s["a"])(u,i,r,!1,null,null,null);e["default"]=d.exports}}]);