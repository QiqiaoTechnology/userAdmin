(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f6ab572"],{2017:function(t,i,n){"use strict";var e=n("b12d"),o=n.n(e);o.a},"36bd":function(t,i,n){"use strict";var e=n("4bf8"),o=n("77f1"),s=n("9def");t.exports=function(t){var i=e(this),n=s(i.length),r=arguments.length,a=o(r>1?arguments[1]:void 0,n),h=r>2?arguments[2]:void 0,l=void 0===h?n:o(h,n);while(l>a)i[a++]=t;return i}},"6c7b":function(t,i,n){var e=n("5ca1");e(e.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"981e":function(t,i,n){"use strict";var e=n("cd51"),o=n.n(e);o.a},"9ed6":function(t,i,n){"use strict";n.r(i);var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"content"},[n("div",{staticClass:"login-container"},[n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,rules:t.loginRules,"auto-complete":"on","label-position":"left"}},[n("div",{staticClass:"title"},[n("p",[t._v("七巧云管理系统")])]),t._v(" "),n("el-form-item",{attrs:{prop:"userAccount"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"user"}})],1),t._v(" "),n("el-input",{ref:"userAccount",attrs:{placeholder:"请输入用户名",name:"userAccount",type:"text",tabindex:"1","auto-complete":"on"},model:{value:t.loginForm.userAccount,callback:function(i){t.$set(t.loginForm,"userAccount","string"===typeof i?i.trim():i)},expression:"loginForm.userAccount"}})],1),t._v(" "),n("el-form-item",{attrs:{prop:"userPassword"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"password"}})],1),t._v(" "),n("el-input",{key:t.userPasswordType,ref:"password",attrs:{type:t.userPasswordType,placeholder:"请输入密码",name:"userPassword",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.handleLogin(i)}},model:{value:t.loginForm.userPassword,callback:function(i){t.$set(t.loginForm,"userPassword","string"===typeof i?i.trim():i)},expression:"loginForm.userPassword"}}),t._v(" "),n("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[n("svg-icon",{attrs:{"icon-class":"password"===t.userPasswordType?"eye":"eye-open"}})],1)],1),t._v(" "),n("div",{staticClass:"yan"},[n("div",{on:{click:t.refreshCode}},[n("sidentify",{staticStyle:{cursor:"pointer",height:"40px"},attrs:{"identify-code":t.identifyCode,title:"点击换一张验证数字"}})],1),t._v(" "),n("el-form-item",{attrs:{prop:"yanzhengma"}},[n("el-input",{attrs:{placeholder:"请输入验证码"},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.handleLogin(i)}},model:{value:t.loginForm.yanzhengma,callback:function(i){t.$set(t.loginForm,"yanzhengma","string"===typeof i?i.trim():i)},expression:"loginForm.yanzhengma"}})],1)],1),t._v(" "),n("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(i){return i.preventDefault(),t.handleLogin(i)}}},[t._v("登录")])],1)],1)])])},o=[],s=(n("6c7b"),n("6b54"),n("53ca"));(function(t,i){"object"===("undefined"===typeof window?"undefined":Object(s["a"])(window))&&(window[t]=i())})("Ribbons",(function(){var t=window,i=document.body,n=document.documentElement,e=function t(){if(1===arguments.length){if(Array.isArray(arguments[0])){var i=Math.round(t(0,arguments[0].length-1));return arguments[0][i]}return t(0,arguments[0])}return 2===arguments.length?Math.random()*(arguments[1]-arguments[0])+arguments[0]:0},o=function(e){var o=Math.max(0,t.innerWidth||n.clientWidth||i.clientWidth||0),s=Math.max(0,t.innerHeight||n.clientHeight||i.clientHeight||0),r=Math.max(0,t.pageXOffset||n.scrollLeft||i.scrollLeft||0)-(n.clientLeft||0),a=Math.max(0,t.pageYOffset||n.scrollTop||i.scrollTop||0)-(n.clientTop||0);return{width:o,height:s,ratio:o/s,centerx:o/2,centery:s/2,scrollx:r,scrolly:a}},r=function(t,i){this.x=0,this.y=0,this.set(t,i)};r.prototype={constructor:r,set:function(t,i){this.x=t||0,this.y=i||0},copy:function(t){return this.x=t.x||0,this.y=t.y||0,this},multiply:function(t,i){return this.x*=t||1,this.y*=i||1,this},divide:function(t,i){return this.x/=t||1,this.y/=i||1,this},add:function(t,i){return this.x+=t||0,this.y+=i||0,this},subtract:function(t,i){return this.x-=t||0,this.y-=i||0,this},clampX:function(t,i){return this.x=Math.max(t,Math.min(this.x,i)),this},clampY:function(t,i){return this.y=Math.max(t,Math.min(this.y,i)),this},flipX:function(){return this.x*=-1,this},flipY:function(){return this.y*=-1,this}};var a=function(t){this._canvas=null,this._context=null,this._sto=null,this._width=0,this._height=0,this._scroll=0,this._ribbons=[],this._options={colorSaturation:"80%",colorBrightness:"60%",colorAlpha:.65,colorCycleSpeed:6,verticalPosition:"center",horizontalSpeed:200,ribbonCount:3,strokeSize:0,parallaxAmount:-.5,animateSections:!0},this._onDraw=this._onDraw.bind(this),this._onResize=this._onResize.bind(this),this._onScroll=this._onScroll.bind(this),this.setOptions(t),this.init()};return a.prototype={constructor:a,setOptions:function(t){if("object"===Object(s["a"])(t))for(var i in t)t.hasOwnProperty(i)&&(this._options[i]=t[i])},init:function(){try{this._canvas=document.createElement("canvas"),this._canvas.style["display"]="block",this._canvas.style["position"]="fixed",this._canvas.style["margin"]="0",this._canvas.style["padding"]="0",this._canvas.style["border"]="0",this._canvas.style["outline"]="0",this._canvas.style["left"]="0",this._canvas.style["top"]="0",this._canvas.style["width"]="100%",this._canvas.style["height"]="100%",this._canvas.style["z-index"]="-1",this._canvas.style["background-color"]="rgba(223, 223, 223, 0.3)",this._canvas.id="bgCanvas",this._onResize(),this._context=this._canvas.getContext("2d"),this._context.clearRect(0,0,this._width,this._height),this._context.globalAlpha=this._options.colorAlpha,window.addEventListener("resize",this._onResize),window.addEventListener("scroll",this._onScroll),document.body.appendChild(this._canvas)}catch(t){return void console.warn("Canvas Context Error: "+t.toString())}this._onDraw()},addRibbon:function(){var t=Math.round(e(1,9))>5?"right":"left",i=1e3,n=200,o=0-n,s=this._width+n,a=0,h=0,l="right"===t?o:s,c=Math.round(e(0,this._height));/^(top|min)$/i.test(this._options.verticalPosition)?c=0+n:/^(middle|center)$/i.test(this._options.verticalPosition)?c=this._height/2:/^(bottom|max)$/i.test(this._options.verticalPosition)&&(c=this._height-n);var d=[],u=new r(l,c),p=new r(l,c),f=null,m=Math.round(e(0,360)),y=0;while(1){if(i<=0)break;if(i--,a=Math.round((1*Math.random()-.2)*this._options.horizontalSpeed),h=Math.round((1*Math.random()-.5)*(.25*this._height)),f=new r,f.copy(p),"right"===t){if(f.add(a,h),p.x>=s)break}else if("left"===t&&(f.subtract(a,h),p.x<=o))break;d.push({point1:new r(u.x,u.y),point2:new r(p.x,p.y),point3:f,color:m,delay:y,dir:t,alpha:0,phase:0}),u.copy(p),p.copy(f),y+=4,m+=this._options.colorCycleSpeed}this._ribbons.push(d)},_drawRibbonSection:function(t){if(t){if(t.phase>=1&&t.alpha<=0)return!0;if(t.delay<=0){if(t.phase+=.02,t.alpha=1*Math.sin(t.phase),t.alpha=t.alpha<=0?0:t.alpha,t.alpha=t.alpha>=1?1:t.alpha,this._options.animateSections){var i=.1*Math.sin(1+t.phase*Math.PI/2);"right"===t.dir?(t.point1.add(i,0),t.point2.add(i,0),t.point3.add(i,0)):(t.point1.subtract(i,0),t.point2.subtract(i,0),t.point3.subtract(i,0)),t.point1.add(0,i),t.point2.add(0,i),t.point3.add(0,i)}}else t.delay-=.5;var n=this._options.colorSaturation,e=this._options.colorBrightness,o="hsla("+t.color+", "+n+", "+e+", "+t.alpha+" )";this._context.save(),0!==this._options.parallaxAmount&&this._context.translate(0,this._scroll*this._options.parallaxAmount),this._context.beginPath(),this._context.moveTo(t.point1.x,t.point1.y),this._context.lineTo(t.point2.x,t.point2.y),this._context.lineTo(t.point3.x,t.point3.y),this._context.fillStyle=o,this._context.fill(),this._options.strokeSize>0&&(this._context.lineWidth=this._options.strokeSize,this._context.strokeStyle=o,this._context.lineCap="round",this._context.stroke()),this._context.restore()}return!1},_onDraw:function(){for(var t=0,i=this._ribbons.length;t<i;++t)this._ribbons[t]||this._ribbons.splice(t,1);this._context.clearRect(0,0,this._width,this._height);for(var n=0;n<this._ribbons.length;++n){for(var e=this._ribbons[n],o=e.length,s=0,r=0;r<o;++r)this._drawRibbonSection(e[r])&&s++;s>=o&&(this._ribbons[n]=null)}this._ribbons.length<this._options.ribbonCount&&this.addRibbon(),requestAnimationFrame(this._onDraw)},_onResize:function(t){var i=o(t);this._width=i.width,this._height=i.height,this._canvas&&(this._canvas.width=this._width,this._canvas.height=this._height,this._context&&(this._context.globalAlpha=this._options.colorAlpha))},_onScroll:function(t){var i=o(t);this._scroll=i.scrolly}},a})),new Ribbons;var r=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"s-canvas"},[n("canvas",{attrs:{id:"s-canvas",width:t.contentWidth,height:t.contentHeight}})])},a=[],h=(n("c5f6"),{name:"SIdentify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:16},fontSizeMax:{type:Number,default:40},backgroundColorMin:{type:Number,default:180},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:40},lineColorMax:{type:Number,default:180},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:112},contentHeight:{type:Number,default:38}},watch:{identifyCode:function(){this.drawPic()}},mounted:function(){this.drawPic()},methods:{randomNum:function(t,i){return Math.floor(Math.random()*(i-t)+t)},randomColor:function(t,i){var n=this.randomNum(t,i),e=this.randomNum(t,i),o=this.randomNum(t,i);return"rgb("+n+","+e+","+o+")"},drawPic:function(){var t=document.getElementById("s-canvas"),i=t.getContext("2d");i.textBaseline="bottom",i.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),i.fillRect(0,0,this.contentWidth,this.contentHeight);for(var n=0;n<this.identifyCode.length;n++)this.drawText(i,this.identifyCode[n],n);this.drawLine(i)},drawText:function(t,i,n){t.fillStyle=this.randomColor(this.colorMin,this.colorMax),t.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var e=(n+1)*(this.contentWidth/(this.identifyCode.length+1)),o=this.randomNum(this.fontSizeMax,this.contentHeight-5),s=this.randomNum(-45,45);t.translate(e,o),t.rotate(s*Math.PI/180),t.fillText(i,0,0),t.rotate(-s*Math.PI/180),t.translate(-e,-o)},drawLine:function(t){for(var i=0;i<8;i++)t.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()}}}),l=h,c=n("2877"),d=Object(c["a"])(l,r,a,!1,null,null,null),u=d.exports,p={name:"Login",components:{Sidentify:u},data:function(){var t=this,i=function(t,i,n){i.length<8?n(new Error("密码不能少于八位")):n()},n=function(i,n,e){0===n.length?e(new Error("请输入验证码")):n!==t.identifyCode?e(new Error("验证码错误请重新输入")):e()};return{yanzhengma:"",identifyCode:"",identifyCodes:"1234567890",loginForm:{userAccount:"admin",userPassword:"",yanzhengma:""},loginRules:{userAccount:[{required:!0,trigger:"blur",message:"请输入用户名!"}],userPassword:[{required:!0,trigger:"blur",validator:i}],yanzhengma:[{required:!0,trigger:"blur",validator:n}]},loading:!1,userPasswordType:"password",redirect:void 0}},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},mounted:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},methods:{showPwd:function(){var t=this;"password"===this.userPasswordType?this.userPasswordType="":this.userPasswordType="password",this.$nextTick((function(){t.$refs.userPassword.focus()}))},handleLogin:function(){var t=this;this.$refs.loginForm.validate((function(i){if(!i)return console.log("提交失败!!"),!1;t.loading=!0,t.$store.dispatch("user/login",t.loginForm).then((function(){t.$router.push({path:t.redirect||"/"}),t.loading=!1})).catch((function(){t.loading=!1}))}))},randomNum:function(t,i){return Math.floor(Math.random()*(i-t)+t)},refreshCode:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},makeCode:function(t,i){for(var n=0;n<i;n++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)]}}},f=p,m=(n("2017"),n("981e"),Object(c["a"])(f,e,o,!1,null,"5a1a8b40",null));i["default"]=m.exports},b12d:function(t,i,n){},cd51:function(t,i,n){}}]);